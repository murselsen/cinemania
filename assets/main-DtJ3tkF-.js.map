{"version":3,"file":"main-DtJ3tkF-.js","sources":["../../src/main.js"],"sourcesContent":["import axios from 'axios';\r\nconst API_TOKEN =\r\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMTU5ZDczMTAzOWRjYWNhYzc1ZjBkNmEyZDUzNzFjYSIsIm5iZiI6MTc0MzIwMzMwOC4zMTQsInN1YiI6IjY3ZTcyYmVjMGU4ZWU2NzgxNTY3YTQ4NyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.H1VcIsy5PEjzy4uHm47ss9XozIyh5LIka9hEmPAOO3k';\r\naxios.defaults.headers.common['accept'] = 'application/json';\r\naxios.defaults.headers.common['Content-Type'] = 'application/json';\r\naxios.defaults.headers.common['Authorization'] = API_TOKEN;\r\n\r\nlet weeklyTrends = null;\r\nlet dayTrends = null;\r\n\r\nconst getWeeklyTrends = () => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      axios\r\n        .get('https://api.themoviedb.org/3/trending/all/week', {\r\n          params: {\r\n            language: 'en-US',\r\n          },\r\n        })\r\n        .then(res => {\r\n          /* console.log(\r\n            'https://image.tmdb.org/t/p/w500' + res.data.results[0].poster_path\r\n          ); */\r\n          resolve(res.data.results);\r\n        })\r\n        .catch(err => console.error(err));\r\n    } catch (error) {\r\n      console.error('getWeeklyTrends Error:', error);\r\n    }\r\n  });\r\n};\r\n\r\nconst getDayTrends = () => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      axios\r\n        .get('https://api.themoviedb.org/3/trending/all/day', {\r\n          params: {\r\n            language: 'en-US',\r\n          },\r\n        })\r\n        .then(res => {\r\n          /* console.log(\r\n            'https://image.tmdb.org/t/p/w500' + res.data.results[0].poster_path\r\n          ); */\r\n          resolve(res.data.results);\r\n        })\r\n        .catch(err => console.error(err));\r\n    } catch (error) {\r\n      console.error('getDayTrends Error:', error);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nconst getMovieVideos = async movieId => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      // url: 'https://api.themoviedb.org/3/movie/movie_id/videos\r\n\r\n      axios\r\n        .get(`https://api.themoviedb.org/3/movie/${movieId}/videos`, {\r\n          params: { language: 'en-US' },\r\n        })\r\n        .then(res => {\r\n          console.log('Movie Videos:', res);\r\n          console.log('Movie Videos:', res.data.results);\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    } catch (error) {\r\n      console.error('getMovieVideos Error:', error);\r\n      reject(err);\r\n    }\r\n  });\r\n};\r\n\r\nconst heroRender = async () => {\r\n  const stars = [\r\n    `<span class=\"star star-outline\"></span>`,\r\n    `<span class=\"star star-outline\"></span>`,\r\n    `<span class=\"star star-outline\"></span>`,\r\n    `<span class=\"star star-outline\"></span>`,\r\n    `<span class=\"star star-outline\"></span>`,\r\n  ];\r\n  const heroTitle = document.querySelector('#hero__content-title');\r\n  const heroStars = document.querySelector('#hero__content-stars');\r\n  const heroInfoText = document.querySelector('#hero__content-info-text');\r\n  const heroButtonArea = document.querySelector('#hero-content-button-area');\r\n  const heroPoster = document.querySelector('#hero__content-background-image');\r\n\r\n  // random number between 0 and 19\r\n  const randomNumber = Math.floor(Math.random() * 20);\r\n  const randomMovie = await dayTrends[randomNumber];\r\n  console.log('Movie:', randomMovie);\r\n\r\n  // vote_average\r\n  const voteAverage = Math.ceil(randomMovie.vote_average / 2);\r\n  console.log('Vote Average:', voteAverage);\r\n\r\n  heroPoster.src = `https://image.tmdb.org/t/p/original/${randomMovie.backdrop_path}`;\r\n  heroTitle.textContent =\r\n    randomMovie.original_name || randomMovie.original_title;\r\n  heroInfoText.textContent = randomMovie.overview;\r\n  for (let i = 0; i < voteAverage; i++) {\r\n    stars[i] = `<span class=\"star star\"></span>`;\r\n  }\r\n  heroStars.innerHTML = stars.join('');\r\n\r\n  const movieVideos = await getMovieVideos(randomMovie.id);\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', async () => {\r\n  weeklyTrends = await getWeeklyTrends();\r\n  dayTrends = await getDayTrends();\r\n  heroRender();\r\n  console.log('DOM fully loaded and parsed');\r\n});\r\n"],"names":["API_TOKEN","axios","dayTrends","getWeeklyTrends","resolve","reject","res","err","error","getDayTrends","getMovieVideos","movieId","heroRender","stars","heroTitle","heroStars","heroInfoText","heroPoster","randomNumber","randomMovie","voteAverage"],"mappings":"+uBACA,MAAMA,EACJ,yPACFC,EAAM,SAAS,QAAQ,OAAO,OAAY,mBAC1CA,EAAM,SAAS,QAAQ,OAAO,cAAc,EAAI,mBAChDA,EAAM,SAAS,QAAQ,OAAO,cAAmBD,EAGjD,IAAIE,EAAY,KAEhB,MAAMC,EAAkB,IACf,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,GAAI,CACFJ,EACG,IAAI,iDAAkD,CACrD,OAAQ,CACN,SAAU,OACX,CACX,CAAS,EACA,KAAKK,GAAO,CAIXF,EAAQE,EAAI,KAAK,OAAO,CAClC,CAAS,EACA,MAAMC,GAAO,QAAQ,MAAMA,CAAG,CAAC,CACnC,OAAQC,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC9C,CACL,CAAG,EAGGC,EAAe,IACZ,IAAI,QAAQ,CAACL,EAASC,IAAW,CACtC,GAAI,CACFJ,EACG,IAAI,gDAAiD,CACpD,OAAQ,CACN,SAAU,OACX,CACX,CAAS,EACA,KAAKK,GAAO,CAIXF,EAAQE,EAAI,KAAK,OAAO,CAClC,CAAS,EACA,MAAMC,GAAO,QAAQ,MAAMA,CAAG,CAAC,CACnC,OAAQC,EAAO,CACd,QAAQ,MAAM,sBAAuBA,CAAK,EAC1CH,EAAOG,CAAK,CACb,CACL,CAAG,EAGGE,EAAiB,MAAMC,GACpB,IAAI,QAAQ,CAACP,EAASC,IAAW,CACtC,GAAI,CAGFJ,EACG,IAAI,sCAAsCU,CAAO,UAAW,CAC3D,OAAQ,CAAE,SAAU,OAAS,CACvC,CAAS,EACA,KAAKL,GAAO,CACX,QAAQ,IAAI,gBAAiBA,CAAG,EAChC,QAAQ,IAAI,gBAAiBA,EAAI,KAAK,OAAO,CACvD,CAAS,EACA,MAAMC,GAAO,CACZ,QAAQ,MAAMA,CAAG,CAC3B,CAAS,CACJ,OAAQC,EAAO,CACd,QAAQ,MAAM,wBAAyBA,CAAK,EAC5CH,EAAO,GAAG,CACX,CACL,CAAG,EAGGO,EAAa,SAAY,CAC7B,MAAMC,EAAQ,CACZ,0CACA,0CACA,0CACA,0CACA,yCACJ,EACQC,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAe,SAAS,cAAc,0BAA0B,EAC/C,SAAS,cAAc,2BAA2B,EACzE,MAAMC,EAAa,SAAS,cAAc,iCAAiC,EAGrEC,EAAe,KAAK,MAAM,KAAK,OAAM,EAAK,EAAE,EAC5CC,EAAc,MAAMjB,EAAUgB,CAAY,EAChD,QAAQ,IAAI,SAAUC,CAAW,EAGjC,MAAMC,EAAc,KAAK,KAAKD,EAAY,aAAe,CAAC,EAC1D,QAAQ,IAAI,gBAAiBC,CAAW,EAExCH,EAAW,IAAM,uCAAuCE,EAAY,aAAa,GACjFL,EAAU,YACRK,EAAY,eAAiBA,EAAY,eAC3CH,EAAa,YAAcG,EAAY,SACvC,QAAS,EAAI,EAAG,EAAIC,EAAa,IAC/BP,EAAM,CAAC,EAAI,kCAEbE,EAAU,UAAYF,EAAM,KAAK,EAAE,EAEf,MAAMH,EAAeS,EAAY,EAAE,CACzD,EAEA,SAAS,iBAAiB,mBAAoB,SAAY,CACzC,MAAMhB,EAAe,EACpCD,EAAY,MAAMO,IAClBG,IACA,QAAQ,IAAI,6BAA6B,CAC3C,CAAC"}