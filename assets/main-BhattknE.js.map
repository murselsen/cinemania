{"version":3,"file":"main-BhattknE.js","sources":["../../src/js/tmdb.js","../../src/js/hero.js","../../src/main.js"],"sourcesContent":["import axios from 'axios';\r\nconst API_TOKEN =\r\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMTU5ZDczMTAzOWRjYWNhYzc1ZjBkNmEyZDUzNzFjYSIsIm5iZiI6MTc0MzIwMzMwOC4zMTQsInN1YiI6IjY3ZTcyYmVjMGU4ZWU2NzgxNTY3YTQ4NyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.H1VcIsy5PEjzy4uHm47ss9XozIyh5LIka9hEmPAOO3k';\r\naxios.defaults.headers.common['accept'] = 'application/json';\r\naxios.defaults.headers.common['Content-Type'] = 'application/json';\r\naxios.defaults.headers.common['Authorization'] = API_TOKEN;\r\n\r\nexport const getWeeklyTrends = () => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      axios\r\n        .get('https://api.themoviedb.org/3/trending/all/week', {\r\n          params: {\r\n            language: 'en-US',\r\n          },\r\n        })\r\n        .then(res => {\r\n          /* console.log(\r\n            'https://image.tmdb.org/t/p/w500' + res.data.results[0].poster_path\r\n          ); */\r\n          resolve(res.data.results);\r\n        })\r\n        .catch(err => console.error(err));\r\n    } catch (error) {\r\n      console.error('getWeeklyTrends Error:', error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const getDayTrends = () => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      axios\r\n        .get('https://api.themoviedb.org/3/trending/all/day', {\r\n          params: {\r\n            language: 'en-US',\r\n          },\r\n        })\r\n        .then(res => {\r\n          /* console.log(\r\n            'https://image.tmdb.org/t/p/w500' + res.data.results[0].poster_path\r\n          ); */\r\n          resolve(res.data.results);\r\n        })\r\n        .catch(err => console.error(err));\r\n    } catch (error) {\r\n      console.error('getDayTrends Error:', error);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const getMovieVideos = async movieId => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      // url: 'https://api.themoviedb.org/3/movie/movie_id/videos\r\n\r\n      axios\r\n        .get(`https://api.themoviedb.org/3/movie/${movieId}/videos`, {\r\n          params: { language: 'en-US' },\r\n        })\r\n        .then(res => {\r\n          console.log('Movie Videos:', res);\r\n\r\n          resolve(res.data);\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    } catch (error) {\r\n      console.error('getMovieVideos Error:', error);\r\n      reject(err);\r\n    }\r\n  });\r\n};\r\n","import { getDayTrends, getMovieVideos } from './tmdb.js';\r\n\r\nexport const heroRender = async () => {\r\n  try {\r\n    const stars = [\r\n      `<span class=\"star star-outline\"></span>`,\r\n      `<span class=\"star star-outline\"></span>`,\r\n      `<span class=\"star star-outline\"></span>`,\r\n      `<span class=\"star star-outline\"></span>`,\r\n      `<span class=\"star star-outline\"></span>`,\r\n    ];\r\n    const heroTitle = document.querySelector('#hero__content-title');\r\n    const heroStars = document.querySelector('#hero__content-stars');\r\n    const heroInfoText = document.querySelector('#hero__content-info-text');\r\n    const heroButtonArea = document.querySelector('#hero-content-button-area');\r\n    const heroPoster = document.querySelector(\r\n      '#hero__content-background-image'\r\n    );\r\n\r\n    // random number between 0 and 19\r\n    const randomNumber = Math.floor(Math.random() * 20);\r\n\r\n    getDayTrends()\r\n      .then(async res => {\r\n        console.log('getDayTrends res:', res);\r\n        const randomMovie = res[randomNumber];\r\n\r\n        console.log('Movie:', randomMovie);\r\n\r\n        // vote_average\r\n        const voteAverage = Math.ceil(randomMovie.vote_average / 2);\r\n        console.log('Vote Average:', voteAverage);\r\n\r\n        heroPoster.src = `https://image.tmdb.org/t/p/original/${randomMovie.backdrop_path}`;\r\n        heroTitle.textContent =\r\n          randomMovie.original_name || randomMovie.original_title;\r\n        heroInfoText.textContent = randomMovie.overview;\r\n        for (let i = 0; i < voteAverage; i++) {\r\n          stars[i] = `<span class=\"star star\"></span>`;\r\n        }\r\n        heroStars.innerHTML = stars.join('');\r\n\r\n        getMovieVideos(randomMovie.id);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error fetching daily trends:', err);\r\n      });\r\n  } catch (error) {\r\n    console.error('Error in heroRender:', error);\r\n  }\r\n};\r\n","import { heroRender } from './js/hero.js';\r\nimport { getWeeklyTrends, getDayTrends } from './js/tmdb.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', async () => {\r\n  try {\r\n    heroRender();\r\n  } catch (error) {\r\n    console.error('Error loading data in DOMContentLoaded event:', error);\r\n  }\r\n});\r\n"],"names":["API_TOKEN","axios","getDayTrends","resolve","reject","res","err","error","getMovieVideos","movieId","heroRender","stars","heroTitle","heroStars","heroInfoText","heroButtonArea","heroPoster","randomNumber","randomMovie","voteAverage","i"],"mappings":"+uBACA,MAAMA,EACJ,yPACFC,EAAM,SAAS,QAAQ,OAAO,OAAY,mBAC1CA,EAAM,SAAS,QAAQ,OAAO,cAAc,EAAI,mBAChDA,EAAM,SAAS,QAAQ,OAAO,cAAmBD,EAwB1C,MAAME,EAAe,IACnB,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,GAAI,CACFH,EACG,IAAI,gDAAiD,CACpD,OAAQ,CACN,SAAU,OACX,CACX,CAAS,EACA,KAAKI,GAAO,CAIXF,EAAQE,EAAI,KAAK,OAAO,CAClC,CAAS,EACA,MAAMC,GAAO,QAAQ,MAAMA,CAAG,CAAC,CACnC,OAAQC,EAAO,CACd,QAAQ,MAAM,sBAAuBA,CAAK,EAC1CH,EAAOG,CAAK,CACb,CACL,CAAG,EAGUC,EAAiB,MAAMC,GAC3B,IAAI,QAAQ,CAACN,EAASC,IAAW,CACtC,GAAI,CAGFH,EACG,IAAI,sCAAsCQ,CAAO,UAAW,CAC3D,OAAQ,CAAE,SAAU,OAAS,CACvC,CAAS,EACA,KAAKJ,GAAO,CACX,QAAQ,IAAI,gBAAiBA,CAAG,EAEhCF,EAAQE,EAAI,IAAI,CAC1B,CAAS,EACA,MAAMC,GAAO,CACZ,QAAQ,MAAMA,CAAG,CAC3B,CAAS,CACJ,OAAQC,EAAO,CACd,QAAQ,MAAM,wBAAyBA,CAAK,EAC5CH,EAAO,GAAG,CACX,CACL,CAAG,ECvEUM,EAAa,SAAY,CACpC,GAAI,CACF,MAAMC,EAAQ,CACZ,0CACA,0CACA,0CACA,0CACA,yCACN,EACUC,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAe,SAAS,cAAc,0BAA0B,EAChEC,EAAiB,SAAS,cAAc,2BAA2B,EACnEC,EAAa,SAAS,cAC1B,iCACN,EAGUC,EAAe,KAAK,MAAM,KAAK,OAAM,EAAK,EAAE,EAElDf,EAAc,EACX,KAAK,MAAMG,GAAO,CACjB,QAAQ,IAAI,oBAAqBA,CAAG,EACpC,MAAMa,EAAcb,EAAIY,CAAY,EAEpC,QAAQ,IAAI,SAAUC,CAAW,EAGjC,MAAMC,EAAc,KAAK,KAAKD,EAAY,aAAe,CAAC,EAC1D,QAAQ,IAAI,gBAAiBC,CAAW,EAExCH,EAAW,IAAM,uCAAuCE,EAAY,aAAa,GACjFN,EAAU,YACRM,EAAY,eAAiBA,EAAY,eAC3CJ,EAAa,YAAcI,EAAY,SACvC,QAASE,EAAI,EAAGA,EAAID,EAAaC,IAC/BT,EAAMS,CAAC,EAAI,kCAEbP,EAAU,UAAYF,EAAM,KAAK,EAAE,EAEnCH,EAAeU,EAAY,EAAE,CACrC,CAAO,EACA,MAAMZ,GAAO,CACZ,QAAQ,MAAM,+BAAgCA,CAAG,CACzD,CAAO,CACJ,OAAQC,EAAO,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CAC5C,CACH,EC/CA,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,GAAI,CACFG,GACD,OAAQH,EAAO,CACd,QAAQ,MAAM,gDAAiDA,CAAK,CACrE,CACH,CAAC"}